<html>
  <head>
    <meta charset="UTF-8">
    <script src="https://unpkg.com/three@0.120.1/build/three.js"></script>
    <link rel="stylesheet" href="semantic/semantic.min.css">
    <link rel="stylesheet" href="semantic/main.css">
    <link href="https://fonts.googleapis.com/css2?family=Rokkitt:wght@300&display=swap" rel="stylesheet">
    <style>
      body {
        margin: 0;
        padding: 0;
      }
      canvas {
        position: absolute;
        height: 100%;
        width: 100%;
      }
      .ui.container{
        font-family: 'Rokkitt', serif;
        font-size: 17px;
      }
    </style>
  </head>
  <body>
    <body class="pushable">
      <div class="ui large inverted top fixed menu">
        <div class="ui container">
          <a class="item" href="/index.html">Home</a>
          <a class="item" href="/pages/branca_de_neve.html">Branca de Neve</a>
          <a class="item" href="/pages/mulan.html">Mulan</a>
          <a class="item" href="/pages/hora_de_aventura.html">Hora de Aventura</a>
          <a class="item" href="/pages/avatar.html">Avatar: a Lenda de Aang</a>
          <a class="item" href="/pages/harry_potter.html">Harry Potter</a>
          <a class="item" href="/pages/vingadores.html">Vingadores</a>
          <a class="item" href="/pages/sobre_a_artista.html">Sobre a Artista</a>
        </div>
      </div>
    </body>
    <canvas></canvas>
    <script src="js/scene.js"></script>
    <script src="js/camera.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/floor.js"></script>
    <script src="js/texture_loader.js"></script>
    <script src="js/octogono.js"></script>
    <script>
      camera.position.x = 0;
      camera.position.y = 40;
      camera.position.z = 0;
      wallsPromise.then((walls)=> {
        camera.lookAt(walls[0].position);
        renderer.render(scene, camera);
        let lastClicked = 0;
        document.addEventListener('click', () => {
          lastClicked++;
          if (lastClicked == walls.length) {
            lastClicked = 0;
          }
          camera.lookAt(walls[lastClicked].position);
          spotLight.lookAt(walls[lastClicked].position);
          renderer.render(scene, camera);
        });
      });

      var spotLight = new THREE.PointLight( 0xff0000, 1);
      spotLight.position.set( 0, 42, 0 );
      spotLight.angle = Math.PI / 4;
      spotLight.penumbra = 0.5;
      spotLight.decay = 1;
      spotLight.distance = 20;
      spotLight.castShadow = true;
      spotLight.shadow.mapSize.width = 1024;
      spotLight.shadow.mapSize.height = 1024;
      spotLight.shadow.camera.near = 10;
      spotLight.shadow.camera.far = 100;
      spotLight.shadow.camera.fov = 45;
      
      scene.add( spotLight );
      

    </script>
  </body>
</html>
